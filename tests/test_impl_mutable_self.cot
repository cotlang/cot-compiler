// Test impl methods with mutable self

struct Counter {
    value: i64,
}

impl Counter {
    fn increment(self: *Counter) {
        self.value = self.value + 1
    }

    fn add(self: *Counter, amount: i64) {
        self.value = self.value + amount
    }

    fn get(self: Counter) i64 {
        return self.value
    }
}

fn main() {
    var c: Counter = Counter{ .value = 0 }
    println("initial: " + string(c.get()))

    c.increment()
    println("after increment: " + string(c.get()))

    c.add(10)
    println("after add(10): " + string(c.get()))
}
